apiVersion: v1
kind: Service
metadata:
  name: zk-hs
  labels:
    app: zk
spec:
  ports:
  - port: 2888
    name: server
  - port: 3888
    name: leader-election
  clusterIP: None
  selector:
    app: zk

---

apiVersion: v1
kind: Service
metadata:
  name: zk-cs
  labels:
    app: zk
spec:
  ports:
  - port: 2181
    name: client
  selector:
    app: zk

---

kind: Service
apiVersion: v1
metadata:
  name: graphstore
  labels:
    app: graphstore
  # annotations:
    # Comment out the backend config below to revoke it if deployed into a cluster
    # beta.cloud.google.com/backend-config: '{"default":"graphstore-http", "ports": {"80":"graphstore-http"}}'
    # cloud.google.com/app-protocols: '{"graphstore-http":"HTTP"}'
spec:
  selector:
    app: graphstore
  type: NodePort
  ports:
  - name: graphstore-http
    protocol: TCP
    port: 80
    targetPort: 9999